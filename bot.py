import tweepy
import random
import os

# ุฌูุจ ุงูููุงุชูุญ ูู GitHub Secrets
API_KEY = os.environ.get("API_KEY")
API_SECRET = os.environ.get("API_SECRET")
ACCESS_TOKEN = os.environ.get("ACCESS_TOKEN")
ACCESS_TOKEN_SECRET = os.environ.get("ACCESS_TOKEN_SECRET")

# ุงูุชุฃูุฏ ูู ูุฌูุฏ ุงูููุงุชูุญ
for key_name, key_value in [("API_KEY", API_KEY), ("API_SECRET", API_SECRET),
                            ("ACCESS_TOKEN", ACCESS_TOKEN), ("ACCESS_TOKEN_SECRET", ACCESS_TOKEN_SECRET)]:
    if not key_value:
        print(f"โ {key_name} ุบูุฑ ููุฌูุฏ")
        exit(1)

# ุงููุตุงุฏูุฉ ูุน ุชููุชุฑ
auth = tweepy.OAuth1UserHandler(API_KEY, API_SECRET, ACCESS_TOKEN, ACCESS_TOKEN_SECRET)
api = tweepy.API(auth)

# ูุงุฆูุฉ ุงูุชุบุฑูุฏุงุช
tweets = [
    "๐ฎ ุชุจุญุซ ุนู ููุณุฑ ุฃุญูุงู ููุซูู ูุฐู ุฎุจุฑุฉุ ุงูุดูุฎ ุฃุจู ููุงู ููุฏู ูู ุชุญูููุงู ุดุฑุนูุงู ูุฏูููุงู ูุฑุคุงู ูุฃุญูุงูู โจ\n๐ฒ ููุชูุงุตู ูุจุงุดุฑุฉ ุนุจุฑ ูุงุชุณุงุจ: wa.me/+966536329403",
    "๐ ููุณุฑ ุฃุญูุงู ุดุฑุนู ููุนุฑูู ุจุฎุจุฑุชู ุงูุทูููุฉ. ุชูุงุตู ูุน ุงูุดูุฎ ุฃุจู ููุงู โ\n๐ฒ wa.me/+966536329403",
    "โจ ูุซูุฑ ูุณุฃููู ุนู ููุณุฑ ุฃุญูุงู ููุซููุ ุงูุดูุฎ ุฃุจู ููุงู ูุณุงุนุฏู ุนูู ููู ุฑุคุงู ุจุฏูุฉ ูุจุทุฑููุฉ ุดุฑุนูุฉ ๐\n๐ฒ wa.me/+966536329403",
    "๐ฎ ูู ุฑุฃูุช ุฑุคูุง ูุชุฑูุฏ ุชูุณูุฑูุงุ ุงูุดูุฎ ุฃุจู ููุงูุ ููุณุฑ ุฃุญูุงู ุจุฎุจุฑุฉ ุณููู ุทูููุฉุ ููุณุฑ ูู ุจุฏูุฉ ููุถูุญ โ\n๐ฒ wa.me/+966536329403",
    "๐ ุชุจุญุซ ุนู ุชูุณูุฑ ุดุฑุนู ูุฑุคุงูุ ููุณุฑ ุงูุฃุญูุงู ุงูุดูุฎ ุฃุจู ููุงู ููุฏู ูู ุฃุฌูุจุฉ ูุงุถุญุฉ ูููุซููุฉ โจ\n๐ฒ wa.me/+966536329403",
    "๐ซ ูุซูุฑ ูู ุงููุงุณ ูุซููู ุจููุณุฑ ุงูุฃุญูุงู ุงูุดูุฎ ุฃุจู ููุงู ูุฃูู ููุณุฑ ุงูุฑุคู ุจุงูุดุฑุน ูุงูุฎุจุฑุฉ ๐\n๐ฒ wa.me/+966536329403",
    "๐ ุนูุฏู ุฑุคูุง ูุญูุฑุฉุ ููุณุฑ ุงูุฃุญูุงู ุงูุดูุฎ ุฃุจู ููุงู ููุณุฑูุง ูู ุจุณูููุฉ ููุถูุญ โจ\n๐ฒ wa.me/+966536329403",
    "๐ฎ ูุง ุชุจุญุซ ูุซูุฑุงูุ ููุณุฑ ุงูุฃุญูุงู ุงูููุซูู ุฃุจู ููุงู ูุดุฑุญ ูู ุฑููุฒ ุฑุคุงู ุจุฏูุฉ ุนุงููุฉ ูุดุฑุนูุฉ โ\n๐ฒ wa.me/+966536329403",
    "๐ ุฅุฐุง ุฃุฑุฏุช ุชูุณูุฑ ุฑุคูุงู ุจุทุฑููุฉ ุดุฑุนูุฉ ุตุญูุญุฉุ ููุณุฑ ุงูุฃุญูุงู ุงูุดูุฎ ุฃุจู ููุงู ูู ุงูุฎูุงุฑ ุงูุฃูุถู โจ\n๐ฒ wa.me/+966536329403",
    "โจ ุขูุงู ุงูุฃุดุฎุงุต ูุณุฃููู ุนู ููุณุฑ ุฃุญูุงู ููุซููุ ุงูุดูุฎ ุฃุจู ููุงู ููุฏู ุงูุชูุณูุฑ ุจุฎุจุฑุฉ ูุตุฏู ๐\n๐ฒ wa.me/+966536329403"
]

# ุงุฎุชูุงุฑ ุชุบุฑูุฏุฉ ุนุดูุงุฆูุฉ ูููุดุฑ
tweet = random.choice(tweets)

# ูุญุงููุฉ ุงููุดุฑ
try:
    api.update_status(tweet)
    print("โ ุชู ูุดุฑ ุงูุชุบุฑูุฏุฉ ุจูุฌุงุญ:", tweet)
except Exception as e:
    print("โ ุฎุทุฃ ูู ุงููุดุฑ:", e)
